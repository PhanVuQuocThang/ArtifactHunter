#:kivy 2.3.1

<MainMenuScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # Ensure full opacity for the image
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'assets/backgrounds/main_menu.jpg'  # Path to your background image
    BoxLayout:
        orientation: 'vertical'
        size_hint: 0.4, 0.6
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        spacing: 20
        padding: [50, 0, 50, 0]

        Button:
            text: 'Start 1 2 3 4 5 6 7'
            font_size: '22sp'
            size_hint_y: 0.25
            background_color: 0.2, 0.6, 0.8, 0.5  # Tailwind-like blue
            on_press: root.start_game()
        Button:
            text: 'How to Play'
            font_size: '22sp'
            size_hint_y: 0.25
            background_color: 0.2, 0.6, 0.8, 0.5
            on_press: root.show_how_to_play()
        Button:
            text: 'Settings'
            font_size: '22sp'
            size_hint_y: 0.25
            background_color: 0.2, 0.6, 0.8, 0.5
            on_press: root.open_settings()
        Button:
            text: 'Quit'
            font_size: '22sp'
            size_hint_y: 0.25
            background_color: 0.8, 0.2, 0.2, 0.9  # Reddish for quit
            on_press: root.quit_game()

# Circle buttons instead of rectangles.
# It makes the rectangle part transparent, then draw an ellipse over it.
<CircularButton@Button>:
    size_hint: None, None
    size: 100, 100
    background_color: 0, 0, 0, 0  # Transparent rectangle
    color: 1, 1, 1, 1
    font_size: '28sp'
    canvas.before:
        Color:
            rgba: 0.3, 0.6, 0.9, 1
        Ellipse:
            pos: self.pos
            size: self.size

<LevelSelectionScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # Ensure full opacity for the image
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'assets/backgrounds/level_selection.jpg'  # Path to your background image
    # Buttons
    BoxLayout:
        orientation: 'vertical'
        padding: 20

        # Top navigation bar with back button
        BoxLayout:
            size_hint_y: 0.15
            orientation: 'horizontal'

            Button:
                text: '< Back'
                size_hint: None, None
                size: 100, 50
                pos_hint: {'x': 0, 'center_y': 0.5}
                on_press: root.back()

            Label:
                text: 'Select Level'
                font_size: '24sp'

        # Main content with level buttons - using AnchorLayout for proper centering
        AnchorLayout:
            anchor_x: 'center'
            size_hint_y: 0.85

            # Level selection buttons
            BoxLayout:
                orientation: 'horizontal'
                size_hint: None, None
                height: 50
                width: 360  # Adjusted to fit 3 buttons (100px each) + 2 spaces (30px each)
                spacing: 30

                CircularButton:
                    text: '1'
                    on_press: root.select_level(1)

                CircularButton:
                    text: '2'
                    on_press: root.select_level(2)

                CircularButton:
                    text: '3'
                    on_press: root.select_level(3)